<!doctype html>
<html>
    <head>
      <title>Impress</title>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
			<link rel='stylesheet' href='skeleton/stylesheets/layout.css' />
			<link rel='stylesheet' href='skeleton/stylesheets/skeleton.css' /> 
			<link rel='stylesheet' href='impress.css' />
			<link rel='stylesheet' href='custom.css' />
			<script src='jquery-1.7.1.min.js'></script> 
			<script src='slide.js'></script>
			<script src='sideSlideBar.JS'></script>
		
	</head>
    <body>
	
		
			<div id='left-nav-bar' class='five columns alpha' style="float:left;">
				<div id='slide-interface' style='z-index:101;'>
					<ul id='slide-list' style='z-index=101;'></ul>
				</div>
				<ul id='slideDeckButtons'>
					<li><button class='button image-add'><span id='decorate-button'>add image<span></button></li>
					<li><button class='button'>add video</button></li>
					<li><button id='impress-button' class='button'>impress!</button></li>
					<ul>
						
					</ul>
				</ul>
				
				<!-- <button id='add-slide'>Add a slide</button> -->
			</div>
		
		<input id="my_input" type="text" style="display: none;position: absolute; top: 15px; left: 15px">
		
		<div id='container-custom'>

			<div id="impress" class='container eight columns offset-by-one' style='z-index:-1;'>
				<div id='step-1' class="step slide editable" data-x="0" data-y="0">
				    My first slide
				</div>
			
				<div id='step-2' class="step slide" data-x="1600" data-y="0">
				    This is slide 2
				</div>
			
				<div id='step-3' class="step" data-x="500" data-y="-1000">
				    This is slide 3
				</div>
			
				<div id='step-4' class="step" data-x="500" data-y="-800" data-rotate = "90">
				    This is slide 4
				</div>
			
				<div id='step-5' class="step" data-x="500" data-y="-800" data-rotate-z = "90">
				    This is slide 5 -- does it have the same setting?
				</div>
			
				<div id='step-6' class="step" data-x="0" data-y="-800" data-rotate-x="90" data-rotate-y="0" data-scale="0.1">
				    This is slide 6 and it rotates in.
				</div>
			
				 <div id='step-7' class="step" data-x="0" data-y="-800" data-rotate-y="90" data-rotate-z="0" data-scale="0.1">
				    This is slide 7 and it rotates in.
				</div>
			
				<div id='step-8' class="step slide" data-x="-1000" data-y="800" data-z='100'>
					My first slide 8 
				</div>
			</div>
		 
		</div>
		<script type="text/javascript">
		var current_slide = null;
		var mode = 'prezi';
		
			console.log("we are ready");
			
			document.addEventListener("keydown", function ( event ) {
					console.log("keydown from our code");
					console.log("mode = " + mode)
					if (mode ==  "edit"){
						event.stopImmediatePropagation();
					}
				});

				document.addEventListener("keyup", function ( event ) {
						console.log("keydown from our code");
						console.log("mode = " + mode)
						if (mode ==  "edit"){
							event.stopImmediatePropagation();
						}
				});
		  
		
		$(function() {
			// $("#my_input").hide();
			$("input#my_input").keyup(function() {
				current_slide.text($(this).val());
			});
			
			$(".editable").click(function() {
				var input = $("#my_input");
				mode = 'edit';
				current_slide = $(this);
				input.val($(this).text());
				input.fadeIn();
				input.focus();
				return false;
			});
			
			$("#my_input").focusout(function() {
				mode = 'prezi';
			})
		});
		</script>
		
		<script src='impress.js'></script>
		<script type="text/javascript" src="jeditable.js"></script>
		</body>
</html>



