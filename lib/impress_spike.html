<!doctype html>
<html>
    <head>
        <title>Impress Tutorial</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<style>

		html, body, div, span, applet, object, iframe,
		h1, h2, h3, h4, h5, h6, p, blockquote, pre,
		a, abbr, acronym, address, big, cite, code,
		del, dfn, em, img, ins, kbd, q, s, samp,
		small, strike, strong, sub, sup, tt, var,
		b, u, i, center,
		dl, dt, dd, ol, ul, li,
		fieldset, form, label, legend,
		table, caption, tbody, tfoot, thead, tr, th, td,
		article, aside, canvas, details, embed,
		figure, figcaption, footer, header, hgroup,
		menu, nav, output, ruby, section, summary,
		time, mark, audio, video {
		    margin: 0;
		    padding: 0;
		    border: 0;
		    font-size: 100%;
		    font: inherit;
		    vertical-align: baseline;
		}

		/* HTML5 display-role reset for older browsers */
		article, aside, details, figcaption, figure,
		footer, header, hgroup, menu, nav, section {
		    display: block;
		}
		body {
		    line-height: 1;
		}
		ol, ul {
		    list-style: none;
		}
		blockquote, q {
		    quotes: none;
		}
		blockquote:before, blockquote:after,
		q:before, q:after {
		    content: '';
		    content: none;
		}

		table {
		    border-collapse: collapse;
		    border-spacing: 0;
		}


		body {
		    font-family: 'PT Sans', sans-serif;

		    min-height: 740px;

		    background: rgb(215, 215, 215);
		    background: -webkit-gradient(radial, 50% 50%, 0, 50% 50%, 500, from(rgb(240, 240, 240)), to(rgb(190, 190, 190)));
		    background: -webkit-radial-gradient(rgb(240, 240, 240), rgb(190, 190, 190));
		    background: -moz-radial-gradient(rgb(240, 240, 240), rgb(190, 190, 190));
		    background: -o-radial-gradient(rgb(240, 240, 240), rgb(190, 190, 190));
		    background: radial-gradient(rgb(240, 240, 240), rgb(190, 190, 190));

		    -webkit-font-smoothing: antialiased;
		}

		b, strong { font-weight: bold }
		i, em { font-style: italic}

		a {
		    color: inherit;
		    text-decoration: none;
		    padding: 0 0.1em;
		    background: rgba(255,255,255,0.5);
		    text-shadow: -1px -1px 2px rgba(100,100,100,0.9);
		    border-radius: 0.2em;

		    -webkit-transition: 0.5s;
		    -moz-transition: 0.5s;
		    -ms-transition: 0.5s;
		    -o-transition: 0.5s;
		    transition: 0.5s;
		}

		a:hover {
		    background: rgba(255,255,255,1);
		    text-shadow: -1px -1px 2px rgba(100,100,100,0.5);
		}

		/* enable clicking on elements 'hiding' behind body in 3D */
		body { pointer-events: none; }
		#impress { pointer-events: auto; }

		/* COMMON STEP STYLES */

		.step {
		    width: 900px;
		    padding: 40px;

		    -webkit-box-sizing: border-box;
		    -moz-box-sizing: border-box;
		    -ms-box-sizing: border-box;
		    -o-box-sizing: border-box;
		    box-sizing: border-box;

		    font-family: 'PT Serif', georgia, serif;

		    font-size: 48px;
		    line-height: 1.5;
		}

		/* fade out inactive slides */

		.step {
		    -webkit-transition: opacity 1s;
		    -moz-transition: opacity 1s;
		    -ms-transition: opacity 1s;
		    -o-transition: opacity 1s;
		    transition: opacity 1s;
		}

		.step:not(.active) {
		    opacity: 0.3;
		}

		/* STEP SPECIFIC STYLES */

		/* hint on the first slide */

		.hint {
		    position: fixed;
		    left: 0;
		    right: 0;
		    bottom: 200px;

		    background: rgba(0,0,0,0.5);
		    color: #EEE;
		    text-align: center;

		    font-size: 50px;
		    padding: 20px;

		    z-index: 100;

		    opacity: 0;

		    -webkit-transform: translateY(400px);
		    -moz-transform: translateY(400px);
		    -ms-transform: translateY(400px);
		    -o-transform: translateY(400px);
		    transform: translateY(400px);

		    -webkit-transition: opacity 1s, -webkit-transform 0.5s 1s;
		    -moz-transition: opacity 1s, -moz-transform 0.5s 1s;
		    -ms-transition: opacity 1s, -ms-transform 0.5s 1s;
		    -o-transition: opacity 1s, -o-transform 0.5s 1s;
		    transition: opacity 1s, transform 0.5s 1s;
		}

		.impress-on-bored .hint {
		    opacity: 1;

		    -webkit-transition: opacity 1s 5s, -webkit-transform 0.5s;
		    -moz-transition: opacity 1s 5s, -moz-transform 0.5s;
		    -ms-transition: opacity 1s 5s, -ms-transform 0.5s;
		    -o-transition: opacity 1s 5s, -o-transform 0.5s;
		    transition: opacity 1s 5s, transform 0.5s;

		    -webkit-transform: translateY(0px);
		    -moz-transform: translateY(0px);
		    -ms-transform: translateY(0px);
		    -o-transform: translateY(0px);
		    transform: translateY(0px);
		}

		/* impress.js title */

		#title {
		    padding: 0;
		}

		#title .try {
		    font-size: 64px;
		    position: absolute;
		    top: -0.5em;
		    left: 1.5em;

		    -webkit-transform: translateZ(20px);
		    -moz-transform: translateZ(20px);
		    -ms-transform: translateZ(20px);
		    -o-transform: translateZ(20px);
		    transform: translateZ(20px);
		}

		#title h1 {
		    font-size: 190px;

		    -webkit-transform: translateZ(50px);
		    -moz-transform: translateZ(50px);
		    -ms-transform: translateZ(50px);
		    -o-transform: translateZ(50px);
		    transform: translateZ(50px);
		}

		#title .footnote {
		    font-size: 32px;
		}

		/* big thoughts */

		#big {
		    width: 600px;
		    text-align: center;
		    font-size: 60px;
		    line-height: 1;
		}

		#big b {
		    display: block;
		    font-size: 250px;
		    line-height: 250px;
		}

		#big .thoughts {
		    font-size: 90px;
		    line-height: 150px;
		}

		/* tiny ideas */

		#tiny {
		    width: 500px;
		    text-align: center;
		}

		#ing {
		    width: 500px;
		}

		#ing b {
		    display: inline-block;
		    -webkit-transition: 0.5s;
		    -moz-transition: 0.5s;
		    -ms-transition: 0.5s;
		    -o-transition: 0.5s;
		    transition: 0.5s;
		}

		#ing.active .positioning {
		    -webkit-transform: translateY(-10px);
		    -moz-transform: translateY(-10px);
		    -ms-transform: translateY(-10px);
		    -o-transform: translateY(-10px);
		    transform: translateY(-10px);

		    -webkit-transition-delay: 1.5s;
		    -moz-transition-delay: 1.5s;
		    -ms-transition-delay: 1.5s;
		    -o-transition-delay: 1.5s;
		    transition-delay: 1.5s;
		}

		#ing.active .rotating {
		    -webkit-transform: rotate(-10deg);
		    -moz-transform: rotate(-10deg);
		    -ms-transform: rotate(-10deg);
		    -o-transform: rotate(-10deg);
		    transform: rotate(-10deg);

		    -webkit-transition-delay: 1.75s;
		    -moz-transition-delay: 1.75s;
		    -ms-transition-delay: 1.75s;
		    -o-transition-delay: 1.75s;
		    transition-delay: 1.75s;
		}

		#ing.active .scaling {
		    -webkit-transform: scale(0.7);
		    -moz-transform: scale(0.7);
		    -ms-transform: scale(0.7);
		    -o-transform: scale(0.7);
		    transform: scale(0.7);

		    -webkit-transition-delay: 2s;
		    -moz-transition-delay: 2s;
		    -ms-transition-delay: 2s;
		    -o-transition-delay: 2s;
		    transition-delay: 2s;

		}

		/* imagination */

		#imagination {
		    width: 600px;
		}

		#imagination .imagination {
		    font-size: 78px;
		}

		/* use the source, Luke */

		#source {
		    width: 700px;
		    padding-bottom: 300px;

		    /* Yoda Icon :: Pixel Art from Star Wars http://www.pixeljoint.com/pixelart/1423.htm */
		    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAARgAAAEYCAMAAACwUBm+AAAAAXNSR0IArs4c6QAAAKtQTFRFsAAAvbWSLUUrLEQqY1s8UYJMqJ1vNTEgOiIdIzYhjIFVLhsXZ6lgSEIsP2U8JhcCVzMsSXZEgXdOO145XJdWOl03LzAYMk4vSXNExr+hwcuxRTs1Qmk+RW9Am49eFRANQz4pUoNMQWc+OSMDTz0wLBsCNVMxa2NBOyUDUoNNSnlEWo9VRGxAVzYFl6tXCggHbLNmMUIcHhwTXkk5f3VNRT8wUT8xAAAACQocRBWFFwAAAAF0Uk5TAEDm2GYAAAPCSURBVHja7d3JctNAFIZRMwRCCGEmzPM8z/D+T8bu/ptbXXJFdij5fMt2Wuo+2UgqxVmtttq5WVotLzBgwIABAwYMGDCn0qVqbo69psPqVpWx+1XG5iaavF8wYMCAAQMGDBgwi4DJ6Y6qkxB1HNlcN3a92gbR5P2CAQMGDBgwYMCAWSxMlrU+UY5yu2l9okfV4bAxUVbf7TJnAwMGDBgwYMCAAbMLMHeqbGR82Zy+VR1Ht81nVca6R+UdTLaU24Ruzd3qM/e4yjnAgAEDBgwYMGDA7AJMd1l/3NRdVGcj3eX/2WEhCmDGxnM7yqygu8XIPjJj8iN/MGDAgAEDBgwYMAuDGb8q0RGlLCHLv1t9qDKWn3vdNHVuEI6HPaxO9Jo3GDBgwIABAwYMmIXBdC9ShGgMk+XnkXUeuGcsP/e1+lhNnZsL/G5Vs3OAAQMGDBgwYMCAWSxMR3SzOmraG5atdy9wZKzb+vg16qyqe2FltbnAgAEDBgwYMGDALAxmTJSuN3WA76rnVca6GTnemGN1WoEBAwYMGDBgwIBZGMxUomy4+xO899V4LAg5Xnc2MGDAgAEDBgwYMGA218Wq+2K1LDqvY9xZu8zN8fICdM6btYABAwYMGDBgwIABMzfH0+pGU5afze2tXebmeAfVz+p8BQYMGDBgwIABAwbMPBzZ+oWmfJrln1273FhkbHzee9WWbw7AgAEDBgwYMGDALAKm43hcdctKgblcPamOhuXnXlY5Xs6bsW4FGyQCAwYMGDBgwIABswiYMceZKgvMo+h8mrHLTdn676rj+FEFoTtHd8MwOxEYMGDAgAEDBgyYRcBM5UhXqiymW3R3c9ARhWO/OmjqfjVZy+xEYMCAAQMGDBgwYBYG073OnCV0RFNhMhaOa9WfKmOB6XjHMN1tQmaAAQMGDBgwYMCA2VWY7vXjz1U4croAzgPztwIDBgwYMGDAgAEDZhswh035NBw59Dww3RgYMGDAgAEDBgwYMJuD6f4tXT7NUqfCdBvZLkxXdgQGDBgwYMCAAQNmt2DGj8WzwAfV/w7T/aq7mxwwYMCAAQMGDBgwuwqTOo7uTwTngflSzQ3TdaJvAwEDBgwYMGDAgAED5gSvgbyo5oHZ4Pc+gwEDBgwYMGDAgAEzhOm+5G0qTGaAAQMGDBgwYMCAAXNaMOcnls3tNwWm+zRzp54NDBgwYMCAAQMGDJh5YNL36k1TLuGvVq+qnKMbS5n7tulT9asCAwYMGDBgwIABA2ZumKuztLnjgQEDBgwYMGDAgNl5mH/4/ltKA6vBNAAAAABJRU5ErkJggg==);
		    background-position: bottom right;
		    background-repeat: no-repeat;
		}

		#source q {
		    font-size: 60px;
		}

		/* it's in 3D */

		#its-in-3d p {
		    -webkit-transform-style: preserve-3d;
		    -moz-transform-style: preserve-3d; /* Y U need this Firefox?! */
		    -ms-transform-style: preserve-3d;
		    -o-transform-style: preserve-3d;
		    transform-style: preserve-3d;
		}

		#its-in-3d span,
		#its-in-3d b {
		    display: inline-block;
		    -webkit-transform: translateZ(40px);
		    -moz-transform: translateZ(40px);
		    -ms-transform: translateZ(40px);
		    -o-transform: translateZ(40px);
		     transform: translateZ(40px);

		    -webkit-transition: 0.5s;
		    -moz-transition: 0.5s;
		    -ms-transition: 0.5s;
		    -o-transition: 0.5s;
		    transition: 0.5s;
		}

		#its-in-3d .have {
		    -webkit-transform: translateZ(-40px);
		    -moz-transform: translateZ(-40px);
		    -ms-transform: translateZ(-40px);
		    -o-transform: translateZ(-40px);
		    transform: translateZ(-40px);
		}

		#its-in-3d .you {
		    -webkit-transform: translateZ(20px);
		    -moz-transform: translateZ(20px);
		    -ms-transform: translateZ(20px);
		    -o-transform: translateZ(20px);
		    transform: translateZ(20px);
		}

		#its-in-3d .noticed {
		    -webkit-transform: translateZ(-40px);
		    -moz-transform: translateZ(-40px);
		    -ms-transform: translateZ(-40px);
		    -o-transform: translateZ(-40px);
		    transform: translateZ(-40px);
		}

		#its-in-3d .its {
		    -webkit-transform: translateZ(60px);
		    -moz-transform: translateZ(60px);
		    -ms-transform: translateZ(60px);
		    -o-transform: translateZ(60px);
		    transform: translateZ(60px);
		}

		#its-in-3d .in {
		    -webkit-transform: translateZ(-10px);
		    -moz-transform: translateZ(-10px);
		    -ms-transform: translateZ(-10px);
		    -o-transform: translateZ(-10px);
		    transform: translateZ(-10px);
		}

		#its-in-3d .footnote {
		    font-size: 32px;

		    -webkit-transform: translateZ(-10px);
		    -moz-transform: translateZ(-10px);
		    -ms-transform: translateZ(-10px);
		    -o-transform: translateZ(-10px);
		    transform: translateZ(-10px);
		}

		#its-in-3d.active span,
		#its-in-3d.active b {
		    -webkit-transform: translateZ(0px);
		    -moz-transform: translateZ(0px);
		    -ms-transform: translateZ(0px);
		    -o-transform: translateZ(0px);
		    transform: translateZ(0px);

		    -webkit-transition-delay: 1s;
		    -moz-transition-delay: 1s;
		    -ms-transition-delay: 1s;
		    -o-transition-delay: 1s;
		    transition-delay: 1s;
		}

		/* overview step */

		#overview {
		    z-index: -1;
		    padding: 0;
		}

		/* on overview step everything is visible */

		.impress-on-overview .step {
		    opacity: 1;
		    cursor: pointer;
		}

		/*
		* SLIDE STEP STYLES
		*
		* inspired by: http://html5slides.googlecode.com/svn/trunk/styles.css
		*
		* ;)
		*/

		.slide {
		    display: block;

		    width: 900px;
		    height: 700px;

		    padding: 40px 60px;

		    border-radius: 10px;

		    background-color: white;

		    box-shadow: 0 2px 6px rgba(0, 0, 0, .1);
		    border: 1px solid rgba(0, 0, 0, .3);

		    font-family: 'Open Sans', Arial, sans-serif;

		    color: rgb(102, 102, 102);
		    text-shadow: 0 2px 2px rgba(0, 0, 0, .1);

		    font-size: 30px;
		    line-height: 36px;

		    letter-spacing: -1px;
		}

		.slide q {
		    display: block;
		    font-size: 50px;
		    line-height: 72px;

		    margin-top: 100px;
		}

		.slide q strong {
		    white-space: nowrap;
		}


		/* IMPRESS NOT SUPPORTED STYLES */

		.fallback-message {
		    font-family: sans-serif;
		    line-height: 1.3;

		    display: none;
		    width: 780px;
		    padding: 10px 10px 0;
		    margin: 20px auto;

		    border-radius: 10px;
		    border: 1px solid #E4C652;
		    background: #EEDC94;
		}

		.fallback-message p {
		    margin-bottom: 10px;
		}

		.impress-not-supported .step {
		    position: relative;
		    opacity: 1;
		    margin: 20px auto;
		}

		.impress-not-supported .fallback-message {
		    display: block;
		}
		
		#slide-interface {
			margin-left:auto;
			margin-right:auto;
			width:inherit;
			height:60px;
			background-color:rgba(100,100,100,0.3);
			border:1px solid gray;
			display:block;
			position:absolute;
			z-index:10;
			margin-bottom:80px;
			pointer-events: auto;
		}
		
		#container {
			width:1000px;
			height:100%;
			margin:0 auto;
			position:relative;
		}
		
		#slide-list {
			padding-left:130px;
		}
		
		#slide-list ul {
			display:inline;
			list-style:none;
		}
		
		#slide-list ul li {
			float:left;
		}
		
		.viewer-anchor {
			padding:0;
			margin:0;
			border-radius:0;
		}
		
		</style>
    	<script src='https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js'></script>
		<script>
				//test object
				var domObject = {
					nodeClass: 'slide',
					dataX: '4000'
				};
				
				// dynamically generate slide image elements with anchor wrappers to jump easily between slides
				var populateSlideViewer = function(id) {
					var a = $('<a href="#step-' + (id + 1) + '" class="viewer-anchor" />'),
						li = $('<li class="step-view" style="float:left; margin-left:15px;" />'),
						img = $("<img />").attr('src', 'silas.jpeg')
										  .attr('id', 'slide-no-' + id)
										  .attr('width', '75');
					a.html(li);
					li.html(img);
					return a;
				};
				
				window.onload = function() {
					$('div ul#slide-list').on({
						mouseenter: function() {
							$(this).attr('width', '100')
						},
						mouseout: function() {
							$(this).attr('width', '75');
						
					  }}, 'img'
					);
					
					// find number of slides, then generate images for each
					var numSlidesInDeck =  $('div.step').length;
					for(var i = 0; i < numSlidesInDeck;i++ ) {
						console.log($('div.step').get(i).innerHTML);
						$('#slide-list').append(populateSlideViewer(i));
					}
				};
		</script>
	</head>
    <body>
		<div id='container'>
			
			<div id='slide-interface'>
				<ul id='slide-list'>
					
				</ul>
			</div>
			
		<div id="impress">
			<div class="step slide" data-x="0" data-y="0">
			    My first slide
			</div>
			
			<div class="step slide" data-x="1600" data-y="0">
			    This is slide 2
			</div>
			
			<div class="step" data-x="500" data-y="-1000">
			    This is slide 3
			</div>
			
			<div class="step" data-x="500" data-y="-800" data-rotate = "90">
			    This is slide 4
			</div>
			
			<div class="step" data-x="500" data-y="-800" data-rotate-z = "90">
			    This is slide 5 -- does it have the same setting?
			</div>
			
			<div class="step" data-x="0" data-y="-800" data-rotate-x="90" data-rotate-y="0" data-scale="0.1">
			    This is slide 6 and it rotates in.
			</div>
			
			 <div class="step" data-x="0" data-y="-800" data-rotate-y="90" data-rotate-z="0" data-scale="0.1">
			    This is slide 7 and it rotates in.
			</div>
			
				<div class="step slide" data-x="-1000" data-y="800" data-z='100'>
				    My first slide 8 
				</div>
		</div>
		 
		</div>
	
		<script>
			(function ( document, window ) {
			    'use strict';

			    // HELPER FUNCTIONS

			    var pfx = (function () {

			        var style = document.createElement('dummy').style,
			            prefixes = 'Webkit Moz O ms Khtml'.split(' '),
			            memory = {};

			        return function ( prop ) {
			            if ( typeof memory[ prop ] === "undefined" ) {

			                var ucProp  = prop.charAt(0).toUpperCase() + prop.substr(1),
			                    props   = (prop + ' ' + prefixes.join(ucProp + ' ') + ucProp).split(' ');

			                memory[ prop ] = null;
			                for ( var i in props ) {
			                    if ( style[ props[i] ] !== undefined ) {
			                        memory[ prop ] = props[i];
			                        break;
			                    }
			                }

			            }

			            return memory[ prop ];
			        };

			    })();

			    var arrayify = function ( a ) {
			        return [].slice.call( a );
			    };

			    var css = function ( el, props ) {
			        var key, pkey;
			        for ( key in props ) {
			            if ( props.hasOwnProperty(key) ) {
			                pkey = pfx(key);
			                if ( pkey !== null ) {
			                    el.style[pkey] = props[key];
			                }
			            }
			        }
			        return el;
			    };

			    var toNumber = function (numeric, fallback) {
			        return isNaN(numeric) ? (fallback || 0) : Number(numeric);
			    };

			    var byId = function ( id ) {
			        return document.getElementById(id);
			    };

			    var $ = function ( selector, context ) {
			        context = context || document;
			        return context.querySelector(selector);
			    };

			    var $$ = function ( selector, context ) {
			        context = context || document;
			        return arrayify( context.querySelectorAll(selector) );
			    };

			    var translate = function ( t ) {
			        return " translate3d(" + t.x + "px," + t.y + "px," + t.z + "px) ";
			    };

			    var rotate = function ( r, revert ) {
			        var rX = " rotateX(" + r.x + "deg) ",
			            rY = " rotateY(" + r.y + "deg) ",
			            rZ = " rotateZ(" + r.z + "deg) ";

			        return revert ? rZ+rY+rX : rX+rY+rZ;
			    };

			    var scale = function ( s ) {
			        return " scale(" + s + ") ";
			    };

			    var perspective = function ( p ) {
			        return " perspective(" + p + "px) ";
			    };

			    var getElementFromUrl = function () {
			        // get id from url # by removing `#` or `#/` from the beginning,
			        // so both `#slide-id` and "legacy" `#/slide-id` will work
			        return byId( window.location.hash.replace(/^#\/?/,"") );
			    };

			    // CHECK SUPPORT
			    var body = document.body;

			    var ua = navigator.userAgent.toLowerCase();
			    var impressSupported = ( pfx("perspective") !== null ) &&
			                           ( body.classList ) &&
			                           ( body.dataset ) &&
			                           ( ua.search(/(iphone)|(ipod)|(android)/) === -1 );

			    if (!impressSupported) {
			        // we can't be sure that `classList` is supported
			        body.className += " impress-not-supported ";
			    } else {
			        body.classList.remove("impress-not-supported");
			        body.classList.add("impress-supported");
			    }

			    var roots = {};

			    var defaults = {
			        width: 1024,
			        height: 768,
			        maxScale: 1,
			        minScale: 0,

			        perspective: 1000,

			        transitionDuration: 1000
			    };

			    var impress = window.impress = function ( rootId ) {

			        if (!impressSupported) {
			            return null;
			        }

			        rootId = rootId || "impress";

			        // if already initialized just return the API
			        if (roots["impress-root-" + rootId]) {
			            return roots["impress-root-" + rootId];
			        }

			        // DOM ELEMENTS

			        var root = byId( rootId );

			        // viewport updates for iPad
			        var meta = $("meta[name='viewport']") || document.createElement("meta");
			        // hardcoding these values looks pretty bad, as they kind of depend on the content
			        // so they should be at least configurable
			        meta.content = "width=device-width, minimum-scale=1, maximum-scale=1, user-scalable=no";
			        if (meta.parentNode !== document.head) {
			            meta.name = 'viewport';
			            document.head.appendChild(meta);
			        }

			        // initialize configuration object
			        var rootData = root.dataset;
			        var config = {
			            width: toNumber(rootData.width,    defaults.width),
			            height: toNumber(rootData.height,   defaults.height),
			            maxScale: toNumber(rootData.maxScale, defaults.maxScale),
			            minScale: toNumber(rootData.minScale, defaults.minScale),

			            perspective: toNumber(rootData.perspective, defaults.perspective),

			            transitionDuration: toNumber(rootData.transitionDuration, defaults.transitionDuration)
			        };

			        var canvas = document.createElement("div");
			        canvas.className = "canvas";

			        arrayify( root.childNodes ).forEach(function ( el ) {
			            canvas.appendChild( el );
			        });
			        root.appendChild(canvas);

			        var steps = $$(".step", root);

			        // SETUP
			        // set initial values and defaults

			        document.documentElement.style.height = "100%";

			        css(body, {
			            height: "100%",
			            overflow: "hidden"
			        });

			        var props = {
			            position: "absolute",
			            transformOrigin: "top left",
			            transition: "all 0s ease-in-out",
			            transformStyle: "preserve-3d"
			        };

			        css(root, props);
			        css(root, {
			            top: "50%",
			            left: "50%",
			            transform: perspective( config.perspective )
			        });
			        css(canvas, props);

			        var current = {
			            translate: { x: 0, y: 0, z: 0 },
			            rotate:    { x: 0, y: 0, z: 0 },
			            scale:     1
			        };

			        var stepData = {};

			        var isStep = function ( el ) {
			            return !!(el && el.id && stepData["impress-" + el.id]);
			        };

			        var computeWindowScale = function () {
			            var hScale = window.innerHeight / config.height,
			                wScale = window.innerWidth / config.width,
			                scale = hScale > wScale ? wScale : hScale;

			            if (config.maxScale && scale > config.maxScale) {
			                scale = config.maxScale;
			            }

			            if (config.minScale && scale < config.minScale) {
			                scale = config.minScale;
			            }

			            return scale;
			        };

			        steps.forEach(function ( el, idx ) {
			            var data = el.dataset,
			                step = {
			                    translate: {
			                        x: toNumber(data.x),
			                        y: toNumber(data.y),
			                        z: toNumber(data.z)
			                    },
			                    rotate: {
			                        x: toNumber(data.rotateX),
			                        y: toNumber(data.rotateY),
			                        z: toNumber(data.rotateZ || data.rotate)
			                    },
			                    scale: toNumber(data.scale, 1),
			                    el: el
			                };

			            if ( !el.id ) {
			                el.id = "step-" + (idx + 1);
			            }

			            stepData["impress-" + el.id] = step;

			            css(el, {
			                position: "absolute",
			                transform: "translate(-50%,-50%)" +
			                           translate(step.translate) +
			                           rotate(step.rotate) +
			                           scale(step.scale),
			                transformStyle: "preserve-3d"
			            });

			        });

			        // making given step active

			        var active = null;
			        var hashTimeout = null;

			        var windowScale = computeWindowScale();

			        var stepTo = function ( el, force ) {
			            if ( !isStep(el) || (el === active && !force) ) {
			                // selected element is not defined as step or is already active
			                return false;
			            }

			            // Sometimes it's possible to trigger focus on first link with some keyboard action.
			            // Browser in such a case tries to scroll the page to make this element visible
			            // (even that body overflow is set to hidden) and it breaks our careful positioning.
			            //
			            // So, as a lousy (and lazy) workaround we will make the page scroll back to the top
			            // whenever slide is selected
			            //
			            // If you are reading this and know any better way to handle it, I'll be glad to hear about it!
			            window.scrollTo(0, 0);

			            var step = stepData["impress-" + el.id];

			            if ( active ) {
			                active.classList.remove("active");
			                body.classList.remove("impress-on-" + active.id);
			            }
			            el.classList.add("active");

			            body.classList.add("impress-on-" + el.id);

			            // Setting fragment URL with `history.pushState`
			            // and it has to be set after animation finishes, because in Chrome it
			            // causes transtion being laggy
			            // BUG: http://code.google.com/p/chromium/issues/detail?id=62820
			            window.clearTimeout( hashTimeout );
			            hashTimeout = window.setTimeout(function () {
			                window.location.hash = "#/" + el.id;
			            }, config.transitionDuration);

			            var target = {
			                rotate: {
			                    x: -step.rotate.x,
			                    y: -step.rotate.y,
			                    z: -step.rotate.z
			                },
			                translate: {
			                    x: -step.translate.x,
			                    y: -step.translate.y,
			                    z: -step.translate.z
			                },
			                scale: 1 / step.scale
			            };

			            // check if the transition is zooming in or not
			            var zoomin = target.scale >= current.scale;

			            // if presentation starts (nothing is active yet)
			            // don't animate (set duration to 0)
			            var duration = (active) ? config.transitionDuration + "ms" : "0ms",
			                delay = (config.transitionDuration / 2) + "ms";

			            if (force) {
			                windowScale = computeWindowScale();
			            }

			            var targetScale = target.scale * windowScale;

			            css(root, {
			                // to keep the perspective look similar for different scales
			                // we need to 'scale' the perspective, too
			                transform: perspective( config.perspective / targetScale ) + scale( targetScale ),
			                transitionDuration: duration,
			                transitionDelay: (zoomin ? delay : "0ms")
			            });

			            css(canvas, {
			                transform: rotate(target.rotate, true) + translate(target.translate),
			                transitionDuration: duration,
			                transitionDelay: (zoomin ? "0ms" : delay)
			            });

			            current = target;
			            active = el;

			            return el;
			        };

			        var prev = function () {
			            var prev = steps.indexOf( active ) - 1;
			            prev = prev >= 0 ? steps[ prev ] : steps[ steps.length-1 ];

			            return stepTo(prev);
			        };

			        var next = function () {
			            var next = steps.indexOf( active ) + 1;
			            next = next < steps.length ? steps[ next ] : steps[ 0 ];

			            return stepTo(next);
			        };

			        window.addEventListener("hashchange", function () {
			            stepTo( getElementFromUrl() );
			        }, false);

			        window.addEventListener("orientationchange", function () {
			            window.scrollTo(0, 0);
			        }, false);

			        // START 
			        // by selecting step defined in url or first step of the presentation
			        stepTo(getElementFromUrl() || steps[0]);

			        return (roots[ "impress-root-" + rootId ] = {
			            stepTo: stepTo,
			            next: next,
			            prev: prev
			        });

			    };

			    impress.supported = impressSupported;

			})(document, window);

			// EVENTS

			(function ( document, window ) {
			    'use strict';

			    var impress = window.impress;

			    // if impress is not supported don't add any handlers
			    if (!impress.supported) {
			        return;
			    }

			    // throttling function calls, by Remy Sharp
			    // http://remysharp.com/2010/07/21/throttling-function-calls/
			    var throttle = function (fn, delay) {
			        var timer = null;
			        return function () {
			            var context = this, args = arguments;
			            clearTimeout(timer);
			            timer = setTimeout(function () {
			                fn.apply(context, args);
			            }, delay);
			        };
			    };

			    // keyboard navigation handlers

			    // prevent default keydown action when one of supported key is pressed
			    document.addEventListener("keydown", function ( event ) {
			        if ( event.keyCode === 9 || ( event.keyCode >= 32 && event.keyCode <= 34 ) || (event.keyCode >= 37 && event.keyCode <= 40) ) {
			            event.preventDefault();
			        }
			    }, false);

			    // trigger impress action on keyup
			    document.addEventListener("keyup", function ( event ) {
			        if ( event.keyCode === 9 || ( event.keyCode >= 32 && event.keyCode <= 34 ) || (event.keyCode >= 37 && event.keyCode <= 40) ) {
			            switch( event.keyCode ) {
			                case 33: // pg up
			                case 37: // left
			                case 38: // up
			                         impress().prev();
			                         break;
			                case 9:  // tab
			                case 32: // space
			                case 34: // pg down
			                case 39: // right
			                case 40: // down
			                         impress().next();
			                         break;
			            }

			            event.preventDefault();
			        }
			    }, false);

			    // delegated handler for clicking on the links to presentation steps
			    document.addEventListener("click", function ( event ) {
			        // event delegation with "bubbling"
			        // check if event target (or any of its parents is a link)
			        var target = event.target;
			        while ( (target.tagName !== "A") &&
			                (target !== document.documentElement) ) {
			            target = target.parentNode;
			        }

			        if ( target.tagName === "A" ) {
			            var href = target.getAttribute("href");

			            // if it's a link to presentation step, target this step
			            if ( href && href[0] === '#' ) {
			                target = document.getElementById( href.slice(1) );
			            }
			        }

			        if ( impress().stepTo(target) ) {
			            event.stopImmediatePropagation();
			            event.preventDefault();
			        }
			    }, false);

			    // delegated handler for clicking on step elements
			    document.addEventListener("click", function ( event ) {
			        var target = event.target;
			        // find closest step element
			        while ( !target.classList.contains("step") &&
			                (target !== document.documentElement) ) {
			            target = target.parentNode;
			        }

			        if ( impress().stepTo(target) ) {
			            event.preventDefault();
			        }
			    }, false);

			    // touch handler to detect taps on the left and right side of the screen
			    document.addEventListener("touchstart", function ( event ) {
			        if (event.touches.length === 1) {
			            var x = event.touches[0].clientX,
			                width = window.innerWidth * 0.3,
			                result = null;

			            if ( x < width ) {
			                result = impress().prev();
			            } else if ( x > window.innerWidth - width ) {
			                result = impress().next();
			            }

			            if (result) {
			                event.preventDefault();
			            }
			        }
			    }, false);

			    // rescale presentation when window is resized
			    window.addEventListener("resize", throttle(function () {
			        // force going to active step again, to trigger rescaling
			        impress().stepTo( document.querySelector(".active"), true );
			    }, 250), false);
			})(document, window);
			</script>
		 </body>
</html>



